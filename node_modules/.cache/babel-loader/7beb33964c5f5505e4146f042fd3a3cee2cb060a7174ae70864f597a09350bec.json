{"ast":null,"code":"// Corrected imports for AdminResults.js\nimport React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{db}from'../firebase';import{collection,query,where,getDocs,doc,getDoc,setDoc,serverTimestamp}from'firebase/firestore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminResults(){const[results,setResults]=useState([]);const[loading,setLoading]=useState(true);const[selectedCategory,setSelectedCategory]=useState('');const[publishStatus,setPublishStatus]=useState(false);const[calculatingResults,setCalculatingResults]=useState(false);// Fetch results and settings on component mount\nuseEffect(()=>{const fetchData=async()=>{try{// Check if results are published\nconst settingsDoc=await getDoc(doc(db,'settings','election'));if(settingsDoc.exists()){setPublishStatus(settingsDoc.data().resultsPublished||false);}// Get saved results if they exist\nconst resultsCollection=collection(db,'results');const resultsSnapshot=await getDocs(resultsCollection);if(!resultsSnapshot.empty){const resultsList=resultsSnapshot.docs.map(doc=>({id:doc.id,...doc.data()}));setResults(resultsList);}setLoading(false);}catch(error){console.error(\"Error fetching results data: \",error);setLoading(false);}};fetchData();},[]);// Generate results from votes\nconst generateResults=async()=>{setCalculatingResults(true);try{// Get all positions\nconst positionsQuery=selectedCategory?query(collection(db,'positions'),where(\"category\",\"==\",selectedCategory)):collection(db,'positions');const positionsSnapshot=await getDocs(positionsQuery);const positions=positionsSnapshot.docs.map(doc=>({id:doc.id,...doc.data()}));// Process each position\nconst calculatedResults=[];for(const position of positions){// Get all candidates for this position\nconst candidatesQuery=query(collection(db,'candidates'),where(\"position\",\"==\",position.name));const candidatesSnapshot=await getDocs(candidatesQuery);const candidates=candidatesSnapshot.docs.map(doc=>({id:doc.id,...doc.data()}));// Get votes for this position\nconst votesQuery=query(collection(db,'votes'),where(\"positionId\",\"==\",position.id));const votesSnapshot=await getDocs(votesQuery);const votes=votesSnapshot.docs.map(doc=>doc.data());// Count votes for each candidate\nconst candidateVotes={};candidates.forEach(candidate=>{candidateVotes[candidate.id]=0;});votes.forEach(vote=>{if(candidateVotes.hasOwnProperty(vote.candidateId)){candidateVotes[vote.candidateId]++;}});// Calculate percentages and find winner\nconst totalVotes=votes.length;const candidateResults=[];for(const candidate of candidates){const voteCount=candidateVotes[candidate.id]||0;const percentage=totalVotes>0?Math.round(voteCount/totalVotes*100):0;candidateResults.push({candidateId:candidate.id,name:candidate.name,gender:candidate.gender||'',votes:voteCount,percentage});}// Sort by votes (descending)\ncandidateResults.sort((a,b)=>b.votes-a.votes);// Mark winners based on vacancies\nconst vacancies=position.vacancies||1;candidateResults.forEach((candidate,index)=>{candidate.isWinner=index<vacancies;});calculatedResults.push({positionId:position.id,positionName:position.name,category:position.category,totalVotes,candidates:candidateResults});}// Save results to Firestore\nfor(const result of calculatedResults){await setDoc(doc(db,'results',result.positionId),result);}// Update state with new results\nsetResults(calculatedResults);setCalculatingResults(false);}catch(error){console.error(\"Error generating results: \",error);setCalculatingResults(false);}};// Toggle result publication status\nconst togglePublishResults=async()=>{try{const settingsRef=doc(db,'settings','election');await setDoc(settingsRef,{resultsPublished:!publishStatus,resultsPublishedAt:!publishStatus?serverTimestamp():null},{merge:true});setPublishStatus(!publishStatus);}catch(error){console.error(\"Error publishing results:\",error);alert(\"Failed to update publication status. Please try again.\");}};// Filter results by category\nconst handleCategoryChange=e=>{setSelectedCategory(e.target.value);};// Filter displayed results\nconst filteredResults=selectedCategory?results.filter(result=>result.category===selectedCategory):results;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-900 text-white w-64 py-7 px-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 px-4 mb-6\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-8 w-8\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold\",children:\"Election System\"})]}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/dashboard\",className:\"block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-800 hover:text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/admin/candidates\",className:\"block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-800 hover:text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Candidates\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/admin/students\",className:\"block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-800 hover:text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Students\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/admin/positions\",className:\"block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-800 hover:text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Positions\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/admin/results\",className:\"block py-2.5 px-4 rounded bg-blue-800 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Results\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-4 w-56\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded w-full flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col overflow-hidden\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-500 focus:outline-none focus:text-gray-700 md:hidden\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 6h16M4 12h16M4 18h16\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 p-2 rounded-full\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 text-blue-800\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-1 overflow-y-auto bg-gray-100 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800\",children:\"Election Results\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"View and publish election results\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:selectedCategory,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Positions\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1st Year\",children:\"1st Year Positions\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2nd Year\",children:\"2nd Year Positions\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3rd Year\",children:\"3rd Year Positions\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4th Year\",children:\"4th & 5th Year Positions\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Additional Positions\"})]}),/*#__PURE__*/_jsx(\"button\",{className:`${calculatingResults?'bg-gray-400':'bg-blue-600 hover:bg-blue-700'} text-white py-2 px-4 rounded`,onClick:generateResults,disabled:calculatingResults,children:calculatingResults?'Calculating...':'Generate Results'})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:`${publishStatus?'bg-red-600 hover:bg-red-700':'bg-green-600 hover:bg-green-700'} text-white py-2 px-4 rounded`,onClick:togglePublishResults,children:publishStatus?'Unpublish Results':'Publish Results'})})]})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6 text-center\",children:\"Loading results data...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:filteredResults.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6 text-center md:col-span-2\",children:\"No results found. Use the \\\"Generate Results\\\" button to calculate election results.\"}):filteredResults.map(result=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-800\",children:[result.positionName,\" (\",result.category,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Total Votes: \",result.totalVotes]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:result.candidates.map((candidate,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`space-y-4 ${index>0?'mt-8':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 p-2 rounded-full mr-3\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 text-blue-800\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[candidate.name,\" \",candidate.gender?`(${candidate.gender})`:'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[candidate.votes,\" votes\"]})]})]}),candidate.isWinner&&/*#__PURE__*/_jsx(\"div\",{className:\"text-green-600 font-medium\",children:\"Winner\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2.5 rounded-full\",style:{width:`${candidate.percentage}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 text-right\",children:[candidate.percentage,\"% of total votes\"]})]},candidate.candidateId))})]},result.positionId))})]})]})]});}export default AdminResults;","map":{"version":3,"names":["React","useState","useEffect","Link","db","collection","query","where","getDocs","doc","getDoc","setDoc","serverTimestamp","jsx","_jsx","jsxs","_jsxs","AdminResults","results","setResults","loading","setLoading","selectedCategory","setSelectedCategory","publishStatus","setPublishStatus","calculatingResults","setCalculatingResults","fetchData","settingsDoc","exists","data","resultsPublished","resultsCollection","resultsSnapshot","empty","resultsList","docs","map","id","error","console","generateResults","positionsQuery","positionsSnapshot","positions","calculatedResults","position","candidatesQuery","name","candidatesSnapshot","candidates","votesQuery","votesSnapshot","votes","candidateVotes","forEach","candidate","vote","hasOwnProperty","candidateId","totalVotes","length","candidateResults","voteCount","percentage","Math","round","push","gender","sort","a","b","vacancies","index","isWinner","positionId","positionName","category","result","togglePublishResults","settingsRef","resultsPublishedAt","merge","alert","handleCategoryChange","e","target","value","filteredResults","filter","className","children","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","to","onChange","onClick","disabled","style","width"],"sources":["C:/Users/shreya/Videos/clgElection/src/components/AdminResults.js"],"sourcesContent":["// Corrected imports for AdminResults.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { db } from '../firebase';\r\nimport { \r\n  collection, \r\n  query, \r\n  where, \r\n  getDocs, \r\n  doc, \r\n  getDoc, \r\n  setDoc,\r\n  serverTimestamp\r\n} from 'firebase/firestore';\r\n\r\nfunction AdminResults() {\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [publishStatus, setPublishStatus] = useState(false);\r\n  const [calculatingResults, setCalculatingResults] = useState(false);\r\n\r\n  // Fetch results and settings on component mount\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        // Check if results are published\r\n        const settingsDoc = await getDoc(doc(db, 'settings', 'election'));\r\n        if (settingsDoc.exists()) {\r\n          setPublishStatus(settingsDoc.data().resultsPublished || false);\r\n        }\r\n\r\n        // Get saved results if they exist\r\n        const resultsCollection = collection(db, 'results');\r\n        const resultsSnapshot = await getDocs(resultsCollection);\r\n        \r\n        if (!resultsSnapshot.empty) {\r\n          const resultsList = resultsSnapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data()\r\n          }));\r\n          setResults(resultsList);\r\n        }\r\n        \r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Error fetching results data: \", error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Generate results from votes\r\n  const generateResults = async () => {\r\n    setCalculatingResults(true);\r\n    try {\r\n      // Get all positions\r\n      const positionsQuery = selectedCategory \r\n        ? query(collection(db, 'positions'), where(\"category\", \"==\", selectedCategory))\r\n        : collection(db, 'positions');\r\n      \r\n      const positionsSnapshot = await getDocs(positionsQuery);\r\n      const positions = positionsSnapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data()\r\n      }));\r\n\r\n      // Process each position\r\n      const calculatedResults = [];\r\n      \r\n      for (const position of positions) {\r\n        // Get all candidates for this position\r\n        const candidatesQuery = query(\r\n          collection(db, 'candidates'), \r\n          where(\"position\", \"==\", position.name)\r\n        );\r\n        const candidatesSnapshot = await getDocs(candidatesQuery);\r\n        const candidates = candidatesSnapshot.docs.map(doc => ({\r\n          id: doc.id,\r\n          ...doc.data()\r\n        }));\r\n\r\n        // Get votes for this position\r\n        const votesQuery = query(\r\n          collection(db, 'votes'), \r\n          where(\"positionId\", \"==\", position.id)\r\n        );\r\n        const votesSnapshot = await getDocs(votesQuery);\r\n        const votes = votesSnapshot.docs.map(doc => doc.data());\r\n\r\n        // Count votes for each candidate\r\n        const candidateVotes = {};\r\n        candidates.forEach(candidate => {\r\n          candidateVotes[candidate.id] = 0;\r\n        });\r\n\r\n        votes.forEach(vote => {\r\n          if (candidateVotes.hasOwnProperty(vote.candidateId)) {\r\n            candidateVotes[vote.candidateId]++;\r\n          }\r\n        });\r\n\r\n        // Calculate percentages and find winner\r\n        const totalVotes = votes.length;\r\n        const candidateResults = [];\r\n        \r\n        for (const candidate of candidates) {\r\n          const voteCount = candidateVotes[candidate.id] || 0;\r\n          const percentage = totalVotes > 0 ? Math.round((voteCount / totalVotes) * 100) : 0;\r\n          \r\n          candidateResults.push({\r\n            candidateId: candidate.id,\r\n            name: candidate.name,\r\n            gender: candidate.gender || '',\r\n            votes: voteCount,\r\n            percentage\r\n          });\r\n        }\r\n\r\n        // Sort by votes (descending)\r\n        candidateResults.sort((a, b) => b.votes - a.votes);\r\n        \r\n        // Mark winners based on vacancies\r\n        const vacancies = position.vacancies || 1;\r\n        candidateResults.forEach((candidate, index) => {\r\n          candidate.isWinner = index < vacancies;\r\n        });\r\n\r\n        calculatedResults.push({\r\n          positionId: position.id,\r\n          positionName: position.name,\r\n          category: position.category,\r\n          totalVotes,\r\n          candidates: candidateResults\r\n        });\r\n      }\r\n\r\n      // Save results to Firestore\r\n      for (const result of calculatedResults) {\r\n        await setDoc(doc(db, 'results', result.positionId), result);\r\n      }\r\n\r\n      // Update state with new results\r\n      setResults(calculatedResults);\r\n      setCalculatingResults(false);\r\n    } catch (error) {\r\n      console.error(\"Error generating results: \", error);\r\n      setCalculatingResults(false);\r\n    }\r\n  };\r\n\r\n  // Toggle result publication status\r\n  const togglePublishResults = async () => {\r\n    try {\r\n      const settingsRef = doc(db, 'settings', 'election');\r\n      await setDoc(settingsRef, { \r\n        resultsPublished: !publishStatus,\r\n        resultsPublishedAt: !publishStatus ? serverTimestamp() : null\r\n      }, { merge: true });\r\n      \r\n      setPublishStatus(!publishStatus);\r\n    } catch (error) {\r\n      console.error(\"Error publishing results:\", error);\r\n      alert(\"Failed to update publication status. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // Filter results by category\r\n  const handleCategoryChange = (e) => {\r\n    setSelectedCategory(e.target.value);\r\n  };\r\n\r\n  // Filter displayed results\r\n  const filteredResults = selectedCategory\r\n    ? results.filter(result => result.category === selectedCategory)\r\n    : results;\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-100\">\r\n      {/* Sidebar */}\r\n      <div className=\"bg-blue-900 text-white w-64 py-7 px-2\">\r\n        {/* Logo */}\r\n        <div className=\"flex items-center justify-center space-x-2 px-4 mb-6\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n          </svg>\r\n          <span className=\"text-xl font-bold\">Election System</span>\r\n        </div>\r\n\r\n        {/* Nav Links */}\r\n        <nav>\r\n          <Link to=\"/admin/dashboard\" className=\"block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-800 hover:text-white\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\" />\r\n              </svg>\r\n              <span>Dashboard</span>\r\n            </div>\r\n          </Link>\r\n          <Link to=\"/admin/candidates\" className=\"block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-800 hover:text-white\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n              </svg>\r\n              <span>Candidates</span>\r\n            </div>\r\n          </Link>\r\n          <Link to=\"/admin/students\" className=\"block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-800 hover:text-white\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n              </svg>\r\n              <span>Students</span>\r\n            </div>\r\n          </Link>\r\n          <Link to=\"/admin/positions\" className=\"block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-800 hover:text-white\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\r\n              </svg>\r\n              <span>Positions</span>\r\n            </div>\r\n          </Link>\r\n          <Link to=\"/admin/results\" className=\"block py-2.5 px-4 rounded bg-blue-800 text-white\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n              </svg>\r\n              <span>Results</span>\r\n            </div>\r\n          </Link>\r\n        </nav>\r\n\r\n        {/* Logout Button */}\r\n        <div className=\"absolute bottom-4 w-56\">\r\n          <Link to=\"/\" className=\"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded w-full flex items-center justify-center space-x-2\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n            </svg>\r\n            <span>Logout</span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n        {/* Top Navigation */}\r\n        <header className=\"bg-white shadow-sm\">\r\n          <div className=\"flex items-center justify-between p-4\">\r\n            <button className=\"text-gray-500 focus:outline-none focus:text-gray-700 md:hidden\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n              </svg>\r\n            </button>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <span className=\"text-gray-700\">Admin</span>\r\n              <div className=\"bg-blue-100 p-2 rounded-full\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-blue-800\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Results Content */}\r\n        <main className=\"flex-1 overflow-y-auto bg-gray-100 p-4\">\r\n          <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\r\n            <h1 className=\"text-2xl font-bold text-gray-800\">Election Results</h1>\r\n            <p className=\"text-gray-600\">View and publish election results</p>\r\n          </div>\r\n\r\n          {/* Results Controls */}\r\n          <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n              <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                <select \r\n                  className=\"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  value={selectedCategory}\r\n                  onChange={handleCategoryChange}\r\n                >\r\n                  <option value=\"\">All Positions</option>\r\n                  <option value=\"1st Year\">1st Year Positions</option>\r\n                  <option value=\"2nd Year\">2nd Year Positions</option>\r\n                  <option value=\"3rd Year\">3rd Year Positions</option>\r\n                  <option value=\"4th Year\">4th & 5th Year Positions</option>\r\n                  <option value=\"Other\">Additional Positions</option>\r\n                </select>\r\n                <button \r\n                  className={`${calculatingResults ? 'bg-gray-400' : 'bg-blue-600 hover:bg-blue-700'} text-white py-2 px-4 rounded`}\r\n                  onClick={generateResults}\r\n                  disabled={calculatingResults}\r\n                >\r\n                  {calculatingResults ? 'Calculating...' : 'Generate Results'}\r\n                </button>\r\n              </div>\r\n              <div>\r\n                <button \r\n                  className={`${publishStatus ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'} text-white py-2 px-4 rounded`}\r\n                  onClick={togglePublishResults}\r\n                >\r\n                  {publishStatus ? 'Unpublish Results' : 'Publish Results'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Results Display */}\r\n          {loading ? (\r\n            <div className=\"bg-white rounded-lg shadow p-6 text-center\">\r\n              Loading results data...\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              {filteredResults.length === 0 ? (\r\n                <div className=\"bg-white rounded-lg shadow p-6 text-center md:col-span-2\">\r\n                  No results found. Use the \"Generate Results\" button to calculate election results.\r\n                </div>\r\n              ) : (\r\n                filteredResults.map((result) => (\r\n                  <div key={result.positionId} className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n                    <div className=\"p-6 border-b border-gray-200\">\r\n                      <h2 className=\"text-lg font-semibold text-gray-800\">{result.positionName} ({result.category})</h2>\r\n                      <p className=\"text-sm text-gray-500\">Total Votes: {result.totalVotes}</p>\r\n                    </div>\r\n                    <div className=\"p-6\">\r\n                      {result.candidates.map((candidate, index) => (\r\n                        <div key={candidate.candidateId} className={`space-y-4 ${index > 0 ? 'mt-8' : ''}`}>\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center\">\r\n                              <div className=\"bg-blue-100 p-2 rounded-full mr-3\">\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-blue-800\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                                </svg>\r\n                              </div>\r\n                              <div>\r\n                                <div className=\"font-medium\">{candidate.name} {candidate.gender ? `(${candidate.gender})` : ''}</div>\r\n                                <div className=\"text-sm text-gray-500\">{candidate.votes} votes</div>\r\n                              </div>\r\n                            </div>\r\n                            {candidate.isWinner && (\r\n                              <div className=\"text-green-600 font-medium\">\r\n                                Winner\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                            <div \r\n                              className=\"bg-blue-600 h-2.5 rounded-full\" \r\n                              style={{ width: `${candidate.percentage}%` }}\r\n                            ></div>\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-500 text-right\">{candidate.percentage}% of total votes</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminResults;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}